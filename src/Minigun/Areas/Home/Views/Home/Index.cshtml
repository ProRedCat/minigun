@{
    ViewData["Title"] = "Home";
}

<div class="flex items-center justify-center min-h-screen bg-primary-navy-dark">
    <div class="w-full max-w-md bg-white rounded-lg shadow-md p-8">
        <h2 class="text-2xl font-bold mb-6 text-primary-navy-dark text-center">Enter PAT Token</h2>

        <div class="loading-container">
            <div class="loading-indicator">
                <form class="opacity-50">
                    <div class="mb-6">
                        <label for="patToken" class="block mb-2 text-sm font-medium text-primary-navy-dark">PAT Token</label>
                        <input type="text" disabled
                               class="w-full px-3 py-2 border border-secondary-blue-grey rounded-md focus:outline-none focus:ring-2 focus:ring-primary-raygun-blue"
                               placeholder="Enter your PAT token">
                    </div>
                    <button disabled
                            class="w-full bg-primary-raygun-blue text-white font-bold py-2 px-4 rounded-md opacity-50 cursor-not-allowed">
                        Submit
                    </button>
                </form>

                <div class="flex justify-center items-center mt-8">
                    @await Html.PartialAsync("/Areas/Shared/_LoadingSpinner.cshtml")
                </div>
            </div>

            <!-- Actual Content -->
            <form hx-post="@Url.Action("RegisterPat", "Home")" hx-target="#result" hx-indicator=".loading-container" hx-swap="innerHTML">
                <div class="mb-6">
                    <label for="patToken" class="block mb-2 text-sm font-medium text-primary-navy-dark">PAT Token</label>
                    <input type="text" id="patToken" name="patToken"
                           class="w-full px-3 py-2 border border-secondary-blue-grey rounded-md focus:outline-none focus:ring-2 focus:ring-primary-raygun-blue"
                           placeholder="Enter your PAT token" required>
                </div>
                <button type="submit"
                        class="w-full bg-primary-raygun-blue text-white font-bold py-2 px-4 rounded-md hover:bg-blue-600 transition-colors duration-300">
                    Submit
                </button>
            </form>
        </div>

        <div id="result" class="mt-4 empty:mt-0"></div>
    </div>
</div>