@{
    ViewData["Title"] = "Home";
}

<div class="flex items-center justify-center min-h-screen bg-primary-navy-dark">
    <div class="w-full max-w-md bg-white rounded-lg shadow-md p-8">
        <h2 class="text-2xl font-bold mb-6 text-primary-navy-dark text-center">Enter PAT Token</h2>
        <form hx-post="@Url.Action("RegisterPat", "Home")" hx-target="#result" hx-swap="innerHTML"
              hx-indicator="#spinner">
            <div class="mb-6">
                <label for="patToken" class="block mb-2 text-sm font-medium text-primary-navy-dark">PAT Token</label>
                <input type="text" id="patToken" name="patToken"
                       class="w-full px-3 py-2 border border-secondary-blue-grey rounded-md focus:outline-none focus:ring-2 focus:ring-primary-raygun-blue"
                       placeholder="Enter your PAT token" required>
            </div>
            <button type="submit"
                    class="w-full bg-primary-raygun-blue text-white font-bold py-2 px-4 rounded-md hover:bg-blue-600 transition-colors duration-300">
                Submit
            </button>
        </form>
        
        <div id="result" class="mt-4"></div>
        
        <div id="spinner" class="htmx-indicator flex justify-center items-center mt-4">
            <svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" viewBox="0 0 24 24">
                <path fill="black"
                      d="M12,4a8,8,0,0,1,7.89,6.7A1.53,1.53,0,0,0,21.38,12h0a1.5,1.5,0,0,0,1.48-1.75,11,11,0,0,0-21.72,0A1.5,1.5,0,0,0,2.62,12h0a1.53,1.53,0,0,0,1.49-1.3A8,8,0,0,1,12,4Z">
                    <animateTransform attributeName="transform" dur="0.75s" repeatCount="indefinite" type="rotate"
                                      values="0 12 12;360 12 12"/>
                </path>
            </svg>
        </div>
    </div>
</div>

<style>
    .htmx-indicator {
        display: none;
    }

    .htmx-request {
        display: flex;
    }
</style>